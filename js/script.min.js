var feedback=document.querySelector(".popup"),modalMap=document.querySelector(".popup-map"),overlay=document.querySelector(".modal-overlay");if(feedback){var feedbackLink=document.querySelector(".contacts-btn"),feedbackClose=feedback.querySelector(".popup-close"),feedbackForm=feedback.querySelector(".popup-form"),username=feedbackForm.querySelector('.popup-input[name="username"]'),email=feedbackForm.querySelector('.popup-input[name="email"]'),text=feedbackForm.querySelector(".popup-textarea");if(localStorage)var storageUsername=localStorage.getItem("username"),storageEmail=localStorage.getItem("email");feedbackLink.addEventListener("click",function(e){e.preventDefault(),feedback.classList.add("modal-feedback-show"),overlay.classList.add("modal-overlay-show"),storageUsername&&storageEmail?(username.value=storageUsername,email.value=storageEmail,text.focus()):username.focus()}),feedbackClose.addEventListener("click",function(e){e.preventDefault(),feedback.classList.remove("modal-feedback-show"),overlay.classList.remove("modal-overlay-show")}),feedbackForm.addEventListener("submit",function(e){username.value&&email.value&&text.value?localStorage&&(localStorage.setItem("username",username.value),localStorage.setItem("email",email.value)):(e.preventDefault(),username.required=email.required=text.required=1)})}if(modalMap){var mapLink=document.querySelector(".contacts-map"),mapClose=modalMap.querySelector(".popup-close");mapLink.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.add("modal-map-show"),overlay.classList.add("modal-overlay-show")}),mapClose.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.remove("modal-map-show"),overlay.classList.remove("modal-overlay-show")})}window.addEventListener("keydown",function(e){27===e.keyCode&&(feedback&&feedback.classList.contains("modal-feedback-show")&&(feedback.classList.remove("modal-feedback-show"),overlay.classList.remove("modal-overlay-show")),modalMap&&modalMap.classList.contains("modal-map-show")&&(modalMap.classList.remove("modal-map-show"),overlay.classList.remove("modal-overlay-show")))});
